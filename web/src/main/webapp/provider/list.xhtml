<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  template="/WEB-INF/templates/layout.xhtml"
>
  <ui:define name="title">Prestadores</ui:define>
  <ui:define name="content">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h2 class="h3 mb-1">Prestadores</h2>
        <p class="text-muted mb-0">Organizaciones que agrupan clínicas de salud</p>
      </div>
      <h:link outcome="/provider/form" styleClass="btn btn-primary">
        <i class="bi bi-plus-circle me-2"></i>Nuevo prestador
      </h:link>
    </div>

    <h:panelGroup id="results" layout="block">
      <ui:fragment rendered="#{not empty providerBean.providers}">
        <div class="card-grid">
          <ui:repeat value="#{providerBean.providers}" var="provider">
            <h:link outcome="/provider/detail" styleClass="card-item card shadow-sm">
              <f:param name="name" value="#{provider.providerName}" />
              <div class="card-body">
                <h5 class="card-title">
                  <i class="bi bi-building me-2"></i>#{provider.providerName}
                </h5>
                <p class="card-text">
                  Organización prestadora de servicios de salud
                </p>
              </div>
              <div class="card-footer">
                <i class="bi bi-calendar me-1"></i>Creado: #{provider.createdAt}
              </div>
            </h:link>
          </ui:repeat>
        </div>
      </ui:fragment>

      <ui:fragment rendered="#{empty providerBean.providers}">
        <div class="card shadow-sm">
          <div class="card-body text-center py-5">
            <i class="bi bi-building" style="font-size: 3rem; color: #9ca3af;"></i>
            <p class="text-muted mt-3 mb-0">No se encontraron prestadores.</p>
            <h:link outcome="/provider/form" styleClass="btn btn-primary mt-3">
              <i class="bi bi-plus-circle me-2"></i>Crear primer prestador
            </h:link>
          </div>
        </div>
      </ui:fragment>
    </h:panelGroup>
  </ui:define>
</ui:composition>

