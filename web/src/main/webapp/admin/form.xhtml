<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  template="/WEB-INF/templates/layout.xhtml"
>
  <ui:define name="title">Crear administrador HCEN</ui:define>
  <ui:define name="content">
    <div class="card shadow-sm">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div>
            <h2 class="card-title h4 mb-0">Crear administrador HCEN</h2>
            <small class="text-muted"
              >Registrar un nuevo administrador HCEN.</small
            >
          </div>
          <h:link outcome="/admin/list" styleClass="btn btn-outline-secondary"
            >Volver al listado</h:link
          >
        </div>

        <h:form styleClass="row g-3">
          <div class="col-md-6">
            <h:outputLabel
              for="ci"
              value="CI (Cédula de Identidad)"
              styleClass="form-label"
            />
            <h:inputText
              id="ci"
              value="#{hcenAdminBean.newAdmin.ci}"
              required="true"
              requiredMessage="La cédula es obligatoria"
              styleClass="form-control"
              p:placeholder="Ingrese la cédula"
              p:autocomplete="username"
            >
              <f:ajax event="blur" render="ciMessage" execute="ci" />
              <f:validateLength minimum="7" maximum="12" />
            </h:inputText>
            <h:message
              id="ciMessage"
              for="ci"
              styleClass="form-text text-danger"
            />
          </div>

          <div class="col-md-6">
            <h:outputLabel for="firstName" value="Nombre" styleClass="form-label" />
            <h:inputText
              id="firstName"
              value="#{hcenAdminBean.newAdmin.firstName}"
              required="true"
              requiredMessage="El nombre es obligatorio"
              styleClass="form-control"
              p:placeholder="Ingrese el nombre"
              p:autocomplete="given-name"
            >
              <f:ajax event="blur" render="firstNameMessage" execute="firstName" />
              <f:validateLength minimum="2" maximum="50" />
            </h:inputText>
            <h:message
              id="firstNameMessage"
              for="firstName"
              styleClass="form-text text-danger"
            />
          </div>

          <div class="col-md-6">
            <h:outputLabel for="lastName" value="Apellido" styleClass="form-label" />
            <h:inputText
              id="lastName"
              value="#{hcenAdminBean.newAdmin.lastName}"
              required="true"
              requiredMessage="El apellido es obligatorio"
              styleClass="form-control"
              p:placeholder="Ingrese el apellido"
              p:autocomplete="family-name"
            >
              <f:ajax event="blur" render="lastNameMessage" execute="lastName" />
              <f:validateLength minimum="2" maximum="50" />
            </h:inputText>
            <h:message
              id="lastNameMessage"
              for="lastName"
              styleClass="form-text text-danger"
            />
          </div>

          <div class="col-md-6">
            <h:outputLabel for="gender" value="Género" styleClass="form-label" />
            <h:selectOneMenu
              id="gender"
              value="#{hcenAdminBean.newAdmin.gender}"
              required="true"
              requiredMessage="El género es obligatorio"
              styleClass="form-select"
            >
              <f:selectItem itemLabel="Seleccionar género" itemValue="" />
              <f:selectItem itemLabel="Masculino" itemValue="MALE" />
              <f:selectItem itemLabel="Femenino" itemValue="FEMALE" />
              <f:selectItem itemLabel="Otro" itemValue="OTHER" />
            </h:selectOneMenu>
            <h:message
              id="genderMessage"
              for="gender"
              styleClass="form-text text-danger"
            />
          </div>

          <div class="col-md-6">
            <h:outputLabel for="email" value="Correo electrónico" styleClass="form-label" />
            <h:inputText
              id="email"
              value="#{hcenAdminBean.newAdmin.email}"
              required="true"
              requiredMessage="El correo electrónico es obligatorio"
              styleClass="form-control"
              p:type="email"
              p:placeholder="admin@example.com"
              p:autocomplete="email"
            >
              <f:ajax event="blur" render="emailMessage" execute="email" />
            </h:inputText>
            <h:message
              id="emailMessage"
              for="email"
              styleClass="form-text text-danger"
            />
          </div>

          <div class="col-md-6">
            <h:outputLabel for="phone" value="Teléfono" styleClass="form-label" />
            <h:inputText
              id="phone"
              value="#{hcenAdminBean.newAdmin.phone}"
              required="true"
              requiredMessage="El teléfono es obligatorio"
              styleClass="form-control"
              p:type="tel"
              p:inputmode="tel"
              p:placeholder="ej.: +598123456"
              p:pattern="^[+0-9 ()-]{7,20}$"
            >
              <f:ajax event="blur" render="phoneMessage" execute="phone" />
            </h:inputText>
            <h:message
              id="phoneMessage"
              for="phone"
              styleClass="form-text text-danger"
            />
          </div>

          <div class="col-12">
            <h:outputLabel
              for="address"
              value="Dirección"
              styleClass="form-label"
            />
            <h:inputText
              id="address"
              value="#{hcenAdminBean.newAdmin.address}"
              required="true"
              requiredMessage="La dirección es obligatoria"
              styleClass="form-control"
              p:placeholder="Calle, número, ciudad"
              p:autocomplete="street-address"
            >
              <f:ajax event="blur" render="addressMessage" execute="address" />
            </h:inputText>
            <h:message
              id="addressMessage"
              for="address"
              styleClass="form-text text-danger"
            />
          </div>

          <div class="col-md-6">
            <h:outputLabel for="dateOfBirth" value="Fecha de nacimiento" styleClass="form-label" />
            <h:inputText
              id="dateOfBirth"
              value="#{hcenAdminBean.newAdmin.dateOfBirth}"
              required="true"
              requiredMessage="La fecha de nacimiento es obligatoria"
              styleClass="form-control"
              p:type="date"
            >
              <f:ajax event="blur" render="dateOfBirthMessage" execute="dateOfBirth" />
              <f:converter converterId="localDateConverter" />
            </h:inputText>
            <h:message
              id="dateOfBirthMessage"
              for="dateOfBirth"
              styleClass="form-text text-danger"
            />
          </div>

          <div class="col-12 d-flex gap-2 mt-3">
            <h:commandButton
              value="Crear administrador"
              action="#{hcenAdminBean.save}"
              styleClass="btn btn-primary"
            />
            <h:commandButton
              value="Limpiar"
              actionListener="#{hcenAdminBean.init}"
              immediate="true"
              styleClass="btn btn-outline-secondary"
            >
              <f:ajax render="@form" />
            </h:commandButton>
          </div>
        </h:form>
      </div>
    </div>
  </ui:define>
</ui:composition>